<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Municipal Digital 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .tab-btn.active { color: #1e40af; border-bottom: 4px solid #1e40af; font-weight: 900; }
        .view-section { display: none; animation: slideUp 0.3s ease-out; }
        .view-section.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .tag-tupa { background: #dbeafe; color: #1e40af; font-size: 8px; font-weight: 900; }
        .tag-tusne { background: #fef3c7; color: #92400e; font-size: 8px; font-weight: 900; }
        .sub-office-border { border-left: 3px solid #e2e8f0; }
        
        /* Estilos del Modal */
        #modalRequisitos { display: none; }
        #modalRequisitos.active { display: flex; animation: fadeIn 0.2s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 leading-tight">

    <div id="modalRequisitos" class="fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm items-center justify-center p-4">
        <div class="bg-white w-full max-w-sm rounded-[2.5rem] p-8 shadow-2xl relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-2 bg-blue-600"></div>
            <h3 id="modalTitulo" class="font-black text-blue-900 uppercase italic text-lg mb-4 leading-tight">Requisitos</h3>
            <div id="modalCuerpo" class="text-slate-600 text-sm italic mb-8 space-y-2">
                </div>
            <button onclick="closeModal()" class="w-full bg-slate-100 text-slate-800 font-black py-4 rounded-2xl uppercase text-[10px] tracking-widest hover:bg-slate-200 transition">
                Entendido
            </button>
        </div>
    </div>

    <header class="bg-blue-900 text-white pt-12 pb-24 px-6 text-center shadow-2xl relative">
        <div class="max-w-xl mx-auto">
            <h1 class="text-3xl font-black uppercase italic tracking-tighter leading-none">Municipalidad Distrital</h1>
            <p class="text-blue-300 text-[10px] font-bold uppercase tracking-[0.3em] mt-3 italic">Gobierno Digital 2026</p>
        </div>
        <div class="absolute bottom-0 left-0 w-full h-12 bg-slate-50 rounded-t-[3rem]"></div>
    </header>

    <main class="container mx-auto px-4 -mt-12 pb-24 max-w-xl">
        
        <nav class="bg-white/95 backdrop-blur-md rounded-3xl shadow-xl flex mb-6 sticky top-4 z-50 border border-white overflow-x-auto no-scrollbar">
            <button onclick="switchTab('inicio')" id="btn-inicio" class="tab-btn active flex-1 py-5 px-3 text-[9px] uppercase font-black min-w-[85px]">
                <i class="fa-solid fa-house-chimney block text-xl mb-1"></i>Inicio
            </button>
            <button onclick="switchTab('pagos')" id="btn-pagos" class="tab-btn flex-1 py-5 px-3 text-[9px] uppercase font-black min-w-[85px] text-slate-400">
                <i class="fa-solid fa-receipt block text-xl mb-1"></i>Tasas
            </button>
            <button onclick="switchTab('oficinas')" id="btn-oficinas" class="tab-btn flex-1 py-5 px-3 text-[9px] uppercase font-black min-w-[85px] text-slate-400">
                <i class="fa-solid fa-sitemap block text-xl mb-1"></i>Oficinas
            </button>
            <button onclick="switchTab('ayuda')" id="btn-ayuda" class="tab-btn flex-1 py-5 px-3 text-[9px] uppercase font-black min-w-[85px] text-slate-400">
                <i class="fa-solid fa-camera block text-xl mb-1"></i>Reporte
            </button>
        </nav>

        <section id="view-inicio" class="view-section active">
            <div class="bg-white rounded-[2.5rem] p-8 shadow-sm border border-slate-100 mb-6 text-center">
                <h2 class="text-2xl font-black text-blue-900 uppercase italic leading-none mb-4">Sandro Mori Rengifo</h2>
                <p class="text-[10px] text-blue-600 font-bold uppercase tracking-widest mb-6 italic">Alcalde Distrital 2023-2026</p>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-blue-50 p-4 rounded-3xl border border-blue-100">
                        <span class="block text-[10px] font-black uppercase text-blue-900">Misión</span>
                        <p class="text-[9px] text-slate-500 mt-1 italic leading-tight">Servir con transparencia y eficiencia a todos.</p>
                    </div>
                    <div class="bg-amber-50 p-4 rounded-3xl border border-amber-100">
                        <span class="block text-[10px] font-black uppercase text-amber-900">Visión</span>
                        <p class="text-[9px] text-slate-500 mt-1 italic leading-tight">Distrito moderno, seguro y digital.</p>
                    </div>
                </div>
            </div>

            <h3 class="font-black text-blue-900 uppercase italic mb-4 px-2 text-sm italic">Agenda Municipal</h3>
            <div id="listaAgenda" class="space-y-3"></div>
        </section>

        <section id="view-pagos" class="view-section">
            <div class="mb-6 px-1">
                <input type="text" id="searchInput" onkeyup="filterData()" placeholder="Buscar trámite o costo..." 
                class="w-full p-5 rounded-2xl shadow-inner bg-white border-2 border-blue-50 focus:border-blue-600 outline-none font-medium transition-all">
            </div>
            <div id="listaTasas" class="space-y-3"></div>
        </section>

        <section id="view-oficinas" class="view-section">
            <div id="listaOficinas" class="space-y-6"></div>
        </section>

        <section id="view-ayuda" class="view-section">
            <div class="bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100 text-center">
                <div class="w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6 text-2xl">
                    <i class="fa-solid fa-bullhorn"></i>
                </div>
                <h4 class="font-black text-slate-800 uppercase italic text-lg">Reporte Vecinal</h4>
                <p class="text-[11px] text-slate-400 mt-4 mb-8 italic">¿Viste un problema? Reporta baches o limpieza enviando fotos por WhatsApp.</p>
                <a href="https://wa.me/51969356686?text=Hola, reporto una incidencia..." 
                class="block bg-red-600 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg shadow-red-100 active:scale-95 transition">
                    Enviar Reporte Ahora
                </a>
            </div>
        </section>

    </main>

    <script>
        // --- 1. DATOS DE TASAS ---
        const tasas = [
            { tipo: "TUPA", n: "Impuesto Predial (DD.JJ.)", p: "S/. 10.00", r: "• DNI del titular.<br>• Minuta o Escritura Pública.<br>• Recibo de Autovalúo." },
            { tipo: "TUPA", n: "Matrimonio Civil", p: "S/. 250.00", r: "• Partidas de nacimiento.<br>• Copia de DNI de ambos.<br>• Certificado médico de salud." },
            { tipo: "TUSNE", n: "Duplicado de Recibo", p: "S/. 2.50", r: "• Indicar nombre del titular.<br>• Código de usuario o predio." },
            { tipo: "TUSNE", n: "Alquiler de Local (Hora)", p: "S/. 30.00", r: "• Solicitud dirigida al alcalde.<br>• Firma de compromiso de cuidado.<br>• Depósito de garantía." }
        ];

        // --- 2. DATOS DE OFICINAS ---
        const oficinas = [
            {
                nombre: "Gerencia de Desarrollo Social",
                gerente: "Responsable General",
                color: "blue-600",
                subs: [
                    { n: "ULE (SISFOH)", e: "Responsable SISFOH", tel: "51900000001", d: "Clasificación socioeconómica." },
                    { n: "Vaso de Leche", e: "Responsable PVL", tel: "51900000002", d: "Apoyo alimentario." },
                    { n: "OMAPED", e: "Responsable OMAPED", tel: "51900000003", d: "Atención a personas con discapacidad." },
                    { n: "DEMUNA", e: "Responsable DEMUNA", tel: "51900000004", d: "Defensa del niño y adolescente." }
                ]
            },
            {
                nombre: "Rentas y Recaudación",
                gerente: "Brayan Vela",
                color: "emerald-600",
                subs: [
                    { n: "Caja y Cobranza", e: "Brayan Vela", tel: "51969356686", d: "Cobro de tasas, arbitrios e impuestos." },
                    { n: "Fiscalización", e: "Responsable Fiscalizador", tel: "51900000006", d: "Control y orden municipal." }
                ]
            }
        ];

        const agenda = [
            { d: "21", m: "FEB", t: "Campaña Médica Gratuita", c: "bg-blue-600" },
            { d: "28", m: "FEB", t: "Amnistía de Arbitrios", c: "bg-red-600" }
        ];

        function init() {
            document.getElementById('listaAgenda').innerHTML = agenda.map(e => `
                <div class="bg-white p-3 rounded-2xl flex items-center shadow-sm border border-slate-50">
                    <div class="${e.c} text-white w-10 h-10 rounded-xl flex flex-col items-center justify-center font-black">
                        <span class="text-xs leading-none">${e.d}</span>
                        <span class="text-[7px] leading-none mt-1">${e.m}</span>
                    </div>
                    <p class="ml-4 text-[11px] font-bold text-slate-700 italic">${e.t}</p>
                </div>
            `).join('');

            document.getElementById('listaTasas').innerHTML = tasas.map((t, index) => `
                <div class="bg-white p-5 rounded-3xl shadow-sm border border-slate-50 flex justify-between items-center item-search">
                    <div class="flex-1 pr-4">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="px-2 py-0.5 rounded-full ${t.tipo === 'TUPA' ? 'tag-tupa' : 'tag-tusne'}">${t.tipo}</span>
                            <h4 class="font-black text-[10px] uppercase italic text-slate-800 leading-tight">${t.n}</h4>
                        </div>
                        <span class="text-blue-600 font-black text-[11px]">${t.p}</span>
                    </div>
                    <button onclick="openModal('${t.n}', '${t.r}')" class="bg-blue-50 text-blue-600 p-3 rounded-2xl text-[9px] font-black uppercase italic active:scale-90 transition">Info</button>
                </div>
            `).join('');

            document.getElementById('listaOficinas').innerHTML = oficinas.map(o => `
                <div class="bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100">
                    <div class="flex items-center mb-4">
                        <div class="w-1 h-6 bg-${o.color} rounded-full mr-3"></div>
                        <h4 class="font-black text-sm uppercase italic text-slate-800">${o.nombre}</h4>
                    </div>
                    <p class="text-[9px] font-bold text-slate-400 mb-6 px-4 italic">Gerente: ${o.gerente}</p>
                    <div class="grid gap-3">
                        ${o.subs.map(s => `
                            <div class="sub-office-border bg-slate-50 p-4 rounded-r-2xl flex justify-between items-center">
                                <div>
                                    <h5 class="text-[10px] font-black text-blue-900 uppercase">${s.n}</h5>
                                    <p class="text-[8px] font-bold text-slate-400 mt-0.5 italic">Encargado: ${s.e}</p>
                                    <p class="text-[9px] text-slate-500 mt-2 leading-tight">${s.d}</p>
                                </div>
                                <a href="https://wa.me/${s.tel}?text=Hola, tengo una consulta para el área de ${s.n}" class="text-green-600 text-xl active:scale-90 transition"><i class="fa-brands fa-whatsapp"></i></a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        // FUNCIONES DEL MODAL
        function openModal(titulo, requisitos) {
            document.getElementById('modalTitulo').innerText = titulo;
            document.getElementById('modalCuerpo').innerHTML = requisitos;
            document.getElementById('modalRequisitos').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modalRequisitos').classList.remove('active');
        }

        function switchTab(tab) {
            document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active');
                b.classList.add('text-slate-400');
            });
            document.getElementById(`view-${tab}`).classList.add('active');
            document.getElementById(`btn-${tab}`).classList.add('active');
            document.getElementById(`btn-${tab}`).classList.remove('text-slate-400');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function filterData() {
            let val = document.getElementById('searchInput').value.toLowerCase();
            document.querySelectorAll('.item-search').forEach(i => {
                i.style.display = i.innerText.toLowerCase().includes(val) ? "flex" : "none";
            });
        }

        window.onload = init;
    </script>
</body>
</html>